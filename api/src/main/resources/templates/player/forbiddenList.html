<div class="pageHeader">
    <form id="pagerForm" onsubmit="return ajaxNavTab(this);" action="operatingTools/forbiddenList" method="post">
        <input type="hidden" name="orderField" th:value="${request.orderField}"/>
        <input type="hidden" name="orderDirection" th:value="${request.orderDirection}"/>
        <input type="hidden" name="pageNum" th:value="${Pager.pageNum}"/>
        <input type="hidden" name="pageSize" th:value="${Pager.pageSize}"/>
        <div class="searchBar">
            <table class="searchContent">
                <tr>
                    <!--<td>封禁类型</td>-->
                    <!--<td><select name="closureWay">-->
                        <!--<option th:value="1" th:selected="">禁言</option>-->
                        <!--<option th:value="2">封号</option>-->
                        <!--<option th:value="3">封IP</option>-->
                        <!--<option th:value="4">封IMEI</option>-->
                        <!--</select>-->
                    <!--</td>-->
                    <!--<td>封禁状态</td>-->
                    <td class="dateRange">
                        日期:
                        <input name="startDate" class="date readonly" readonly="readonly" type="text" th:value="${request.startDate}">
                        <span class="limit">-</span>
                        <input name="endDate" class="date readonly" readonly="readonly" type="text" th:value="${request.endDate}">
                    </td>
                    <td>
                        <div class="buttonActive">
                            <div class="buttonContent">
                                <button type="submit">检索</button>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </form>
</div>
<div class="pageContent">
    <div class="panelBar" style="height:30px">
        <ul class="toolBar">
            <li>
                <a title="封禁管理" class="edit" href="operatingTools/forbiddenAdd" target="dialog" mask="true" height="400">
                    <span style="font-size: 20px">封禁管理</span>
                </a>
            </li>
        </ul>
    </div>
    <table class="table" layoutH="137" width="100%">
        <thead>
        <tr>
            <th width="120">服务器</th>
            <th width="120">创建时间</th>
            <th width="120">过期时间</th>
            <th width="120">封禁类型</th>
            <th width="120">封禁目标</th>
            <th width="120">当前状态</th>
            <th width="120">操作</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="row,iterStat:${list}">
            <td th:text="${row.serverName}"></td>
            <td th:text="${#dates.format(row.createTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
            <td th:text="${#dates.format(row.endTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
            <td th:if="${row.closureWay==1}" th:text="禁言"></td>
            <td th:if="${row.closureWay==2}" th:text="封号"></td>
            <td th:if="${row.closureWay==3}" th:text="禁IP"></td>
            <td th:if="${row.closureWay==4}" th:text="禁IMEI"></td>
            <td th:text="${row.closureAccount}"></td>
            <td th:if="${row.status==3}" th:text="已解封"></td>
            <td th:if="${row.status==2}" th:text="已失效"></td>
            <td th:if="${row.status==1}" th:text="封禁中"></td>
            <td>
                <a th:if="${row.status==1}" title="解封" class="button" th:href="@{operatingTools/forbiddenAllowed(serverId=${row.serverId},closureType=2,closureWay=${row.closureWay},closureAccount=${row.closureAccount},closureTime=${row.closureTime})}" target="navTab" mask="true"><span>解封</span></a>
            </td>
        </tr>
        <tr th:if="${list.size()==0}">
            <td colspan="6" style="text-align: center">暂无数据</td>
        </tr>
        </tbody>
    </table>
    <div th:replace="_include/pager"></div>
</div>
