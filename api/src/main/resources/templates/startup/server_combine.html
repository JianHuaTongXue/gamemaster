<div class="pageContent">
    <form id="pagerForm" onsubmit="return closeNavTab(this);" action="startup/server_combine" method="post">
        <div class="pageFormContent" layoutH="57">
            <div class="searchBar">
                <table width="98%" style="border-collapse:separate; border-spacing:5px;">
                    <thead>
                    <tr>
                        <th style="width: 136px"></th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>
                            <label>区服类型</label>
                        </td>
                        <td>
                            <select name="serverGroup" id="serverTypeFrom">
                                <option value="">全部</option>
                                <option value="ingcle" th:selected="${request.serverGroup=='ingcle'}">硬核专服</option>
                                <option value="ingcle_mixture" th:selected="${request.serverGroup=='ingcle_mixture'}">大混服专服</option>
                                <option value="ingcle_iOS" th:selected="${request.serverGroup=='ingcle_iOS'}">IOS专服</option>
                                <option value="other" th:selected="${request.serverGroup=='other'}">其他</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>原始服务器</td>
                        <td>
                            <select name="fromServer">
                                <option th:each="row,iterStat:${serverList}" th:text="${row.serverName}" th:value="${row.serverId}"></option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>区服类型</label>
                        </td>
                        <td>
                            <select name="serverGroup" id="serverTypeTo">
                                <option value="">全部</option>
                                <option value="ingcle" th:selected="${request.serverGroup=='ingcle'}">硬核专服</option>
                                <option value="ingcle_mixture" th:selected="${request.serverGroup=='ingcle_mixture'}">大混服专服</option>
                                <option value="ingcle_iOS" th:selected="${request.serverGroup=='ingcle_iOS'}">IOS专服</option>
                                <option value="other" th:selected="${request.serverGroup=='other'}">其他</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>目标服务器</td>
                        <td>
                            <select name="toServer">
                                <option th:each="row,iterStat:${serverList}" th:text="${row.serverName}" th:value="${row.serverId}"></option>
                            </select>
                        </td>
                    </tr>
                    <tbody>
                </table>
            </div>
        </div>
        <div class="formBar">
            <ul>
                <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
                <li>
                    <div class="button">
                        <div class="buttonContent">
                            <button class="close">取消</button>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="button">
                        <div class="buttonContent">
                            <button type="submit">保存</button>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </form>
</div>
<script type="text/javascript">
    $('#serverTypeFrom').change(function () {
        $.post("startup/server_list", "serverGroup=" + $(this).val(), function (data) {
            var serverList = $('select[name="fromServer"]');
            serverList.empty();
            for (var i = 0, l = data.length; i < l; i++) {
                var serverName = data[i].serverName;
                var serverId = data[i].serverId;
                serverList.append("<option value=" + serverId + ">" + serverName + "</option>")
            }
        });
    });
    $('#serverTypeTo').change(function () {
        $.post("startup/server_list", "serverGroup=" + $(this).val(), function (data) {
            var serverList = $('select[name="toServer"]');
            serverList.empty();
            for (var i = 0, l = data.length; i < l; i++) {
                var serverName = data[i].serverName;
                var serverId = data[i].serverId;
                serverList.append("<option value=" + serverId + ">" + serverName + "</option>")
            }
        });
    });
</script>