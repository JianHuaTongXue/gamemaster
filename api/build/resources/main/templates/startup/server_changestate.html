<div class="pageContent">
    <form id="pagerForm" onsubmit="return closeNavTab(this);" action="startup/server_changestate" method="post"
          onreset="$(this).find('select.combox').comboxReset()">
        <div class="pageFormContent" layoutH="57">
            <div class="searchBar">
                <table class="searchContent">
                    <tr>
                        <td>修改服务器状态为</td>
                        <td>
                            <select name="serverState">
                                <option value="1">开放</option>
                                <option value="2">维护</option>
                                <option value="3">隐藏</option>
                                <option value="4">关闭</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" id="allSelect"/>勾选服务器</td>
                        <td>
                            <input class="required" th:each="row:${serverList}" type="checkbox" name="ids"
                                   th:text="${row.serverName}" th:value="${row.id}"/>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="formBar">
            <ul>
                <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
                <li>
                    <div class="button">
                        <div class="buttonContent">
                            <button class="close">取消</button>
                        </div>
                    </div>
                </li>
                <li>
                    <div class="button">
                        <div class="buttonContent">
                            <button type="submit">保存</button>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </form>
</div>
<script type="text/javascript">
    $('#allSelect').click(function () {
        var ids = $('input[name=ids]');
        for(var i=0;i<ids.length;i++){
            if($(this).prop("checked")){
                ids.eq(i).prop("checked",true);
            }else{
                ids.eq(i).prop("checked",false);
            }
        }
    });
</script>